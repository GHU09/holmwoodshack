!function(n){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function e(n){var t=n[0];return t.offsetWidth>0&&t.offsetHeight>0}function k(i){var u,r;if((i.minTime&&(i.minTime=t(i.minTime)),i.maxTime&&(i.maxTime=t(i.maxTime)),i.durationTime&&"function"!=typeof i.durationTime&&(i.durationTime=t(i.durationTime)),"now"==i.scrollDefault)?i.scrollDefault=function(){return i.roundingFunction(t(new Date),i)}:i.scrollDefault&&"function"!=typeof i.scrollDefault?(u=i.scrollDefault,i.scrollDefault=function(){return i.roundingFunction(t(u),i)}):i.minTime&&(i.scrollDefault=function(){return i.roundingFunction(i.minTime,i)}),"string"===n.type(i.timeFormat)&&i.timeFormat.match(/[gh]/)&&(i._twelveHourTime=!0),i.showOnFocus===!1&&i.showOn.indexOf("focus")!=-1&&i.showOn.splice(i.showOn.indexOf("focus"),1),i.disableTimeRanges.length>0){for(r in i.disableTimeRanges)i.disableTimeRanges[r]=[t(i.disableTimeRanges[r][0]),t(i.disableTimeRanges[r][1])];for(i.disableTimeRanges=i.disableTimeRanges.sort(function(n,t){return n[0]-t[0]}),r=i.disableTimeRanges.length-1;r>0;r--)i.disableTimeRanges[r][0]<=i.disableTimeRanges[r-1][1]&&(i.disableTimeRanges[r-1]=[Math.min(i.disableTimeRanges[r][0],i.disableTimeRanges[r-1][0]),Math.max(i.disableTimeRanges[r][1],i.disableTimeRanges[r-1][1])],i.disableTimeRanges.splice(r,1))}return i}function l(i){var e=i.data("timepicker-settings"),s=i.data("timepicker-list"),l,it,ut,ft,k,v,st,w,et,c,ht,ct,p;if((s&&s.length&&(s.remove(),i.data("timepicker-list",!1)),e.useSelect)?(s=n("<select />",{"class":"ui-timepicker-select"}),i.attr("name")&&s.attr("name","ui-timepicker-"+i.attr("name")),l=s):(s=n("<ul />",{"class":"ui-timepicker-list"}),l=n("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),l.css({display:"none",position:"absolute"}).append(s)),e.noneOption)if(e.noneOption===!0&&(e.noneOption=e.useSelect?"Time...":"None"),n.isArray(e.noneOption))for(v in e.noneOption)parseInt(v,10)==v&&(it=d(e.noneOption[v],e.useSelect),s.append(it));else it=d(e.noneOption,e.useSelect),s.append(it);(e.className&&l.addClass(e.className),(null!==e.minTime||null!==e.durationTime)&&e.showDuration)&&("function"==typeof e.step?"function":e.step,l.addClass("ui-timepicker-with-duration"),l.addClass("ui-timepicker-step-"+e.step));ut=e.minTime;"function"==typeof e.durationTime?ut=t(e.durationTime()):null!==e.durationTime&&(ut=e.durationTime);ft=null!==e.minTime?e.minTime:0;k=null!==e.maxTime?e.maxTime:ft+r-1;k<ft&&(k+=r);k===r-1&&"string"===n.type(e.timeFormat)&&e.show2400&&(k=r);var tt=e.disableTimeRanges,nt=0,lt=tt.length,ot=e.step;for("function"!=typeof ot&&(ot=function(){return e.step}),v=ft,st=0;v<=k;st++,v+=60*ot(st))w=v,et=h(w,e),e.useSelect?(c=n("<option />",{value:et}),c.text(et)):(c=n("<li />"),c.addClass(w%r<r/2?"ui-timepicker-am":"ui-timepicker-pm"),c.data("time",g(w,e)),c.text(et)),(null!==e.minTime||null!==e.durationTime)&&e.showDuration&&(ht=rt(v-ut,e.step),e.useSelect?c.text(c.text()+" ("+ht+")"):(ct=n("<span />",{"class":"ui-timepicker-duration"}),ct.text(" ("+ht+")"),c.append(ct))),nt<lt&&(w>=tt[nt][1]&&(nt+=1),tt[nt]&&w>=tt[nt][0]&&w<tt[nt][1]&&(e.useSelect?c.prop("disabled",!0):c.addClass("ui-timepicker-disabled"))),s.append(c);(l.data("timepicker-input",i),i.data("timepicker-list",l),e.useSelect)?(i.val()&&s.val(a(t(i.val()),e)),s.on("focus",function(){n(this).data("timepicker-input").trigger("showTimepicker")}),s.on("blur",function(){n(this).data("timepicker-input").trigger("hideTimepicker")}),s.on("change",function(){f(i,n(this).val(),"select")}),f(i,s.val(),"initial"),i.hide().after(s)):(p=e.appendTo,"string"==typeof p?p=n(p):"function"==typeof p&&(p=p(i)),p.append(l),o(i,s),s.on("mousedown click","li",function(){i.off("focus.timepicker");i.on("focus.timepicker-ie-hack",function(){i.off("focus.timepicker-ie-hack");i.on("focus.timepicker",u.show)});y(i)||i[0].focus();s.find("li").removeClass("ui-timepicker-selected");n(this).addClass("ui-timepicker-selected");b(i)&&(i.trigger("hideTimepicker"),s.on("mouseup.timepicker click.timepicker","li",function(){s.off("mouseup.timepicker click.timepicker");l.hide()}))}))}function d(t,i){var r,f,u;return"object"==typeof t?(r=t.label,f=t.className,u=t.value):"string"==typeof t?(r=t,u=""):n.error("Invalid noneOption value"),i?n("<option />",{value:u,"class":f,text:r}):n("<li />",{"class":f,text:r}).data("time",String(u))}function a(n,t){if(n=t.roundingFunction(n,t),null!==n)return h(n,t)}function v(t){if(t.target!=window){var i=n(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(u.hide(),n(document).unbind(".ui-timepicker"),n(window).unbind(".ui-timepicker"))}}function y(n){var t=n.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function p(t,i,r){if(!r&&0!==r)return!1;var u=t.data("timepicker-settings"),f=!1,r=u.roundingFunction(r,u);return i.find("li").each(function(t,i){var u=n(i);if("number"==typeof u.data("time"))return u.data("time")==r?(f=u,!1):void 0}),f}function o(n,i){var f,u,r,e;i.find("li").removeClass("ui-timepicker-selected");f=n.data("timepicker-settings");u=t(c(n),f);null!==u&&(r=p(n,i,u),r&&(e=r.offset().top-i.offset().top,(e+r.outerHeight()>i.outerHeight()||e<0)&&i.scrollTop(i.scrollTop()+r.position().top-r.outerHeight()),(f.forceRoundTime||r.data("time")===u)&&r.addClass("ui-timepicker-selected")))}function s(i,r){var o,u,e,s,c,l;if("timepicker"!=r){if(o=n(this),""===this.value)return void f(o,null,r);if(!o.is(":focus")||i&&"change"==i.type){if(u=o.data("timepicker-settings"),e=t(this.value,u),null===e)return void o.trigger("timeFormatError");s=!1;(null!==u.minTime&&null!==u.maxTime&&(e<u.minTime||e>u.maxTime)&&(s=!0),n.each(u.disableTimeRanges,function(){if(e>=this[0]&&e<this[1])return s=!0,!1}),u.forceRoundTime)&&(c=u.roundingFunction(e,u),c!=e&&(e=c,r=null));l=h(e,u);s?(f(o,l,"error")||i&&"change"==i.type)&&o.trigger("timeRangeError"):f(o,l,r)}}}function c(n){return n.is("input")?n.val():n.data("ui-timepicker-value")}function f(n,i,r){if(n.is("input")){n.val(i);var u=n.data("timepicker-settings");u.useSelect&&"select"!=r&&n.data("timepicker-list")&&n.data("timepicker-list").val(a(t(i),u))}return n.data("ui-timepicker-value")!=i?(n.data("ui-timepicker-value",i),"select"==r?n.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):["error","initial"].indexOf(r)==-1&&n.trigger("changeTime"),!0):(["error","initial"].indexOf(r)==-1&&n.trigger("selectTime"),!1)}function tt(n){switch(n.keyCode){case 13:case 9:return;default:n.preventDefault()}}function it(t){var f=n(this),r=f.data("timepicker-list"),i;if(!r||!e(r)){if(40!=t.keyCode)return!0;u.show.call(f.get(0));r=f.data("timepicker-list");y(f)||f.focus()}switch(t.keyCode){case 13:return b(f)&&(s.call(f.get(0),{type:"change"}),u.hide.apply(this)),t.preventDefault(),!1;case 38:return i=r.find(".ui-timepicker-selected"),i.length?i.is(":first-child")||(i.removeClass("ui-timepicker-selected"),i.prev().addClass("ui-timepicker-selected"),i.prev().position().top<i.outerHeight()&&r.scrollTop(r.scrollTop()-i.outerHeight())):(r.find("li").each(function(t,r){if(n(r).position().top>0)return i=n(r),!1}),i.addClass("ui-timepicker-selected")),!1;case 40:return i=r.find(".ui-timepicker-selected"),0===i.length?(r.find("li").each(function(t,r){if(n(r).position().top>0)return i=n(r),!1}),i.addClass("ui-timepicker-selected")):i.is(":last-child")||(i.removeClass("ui-timepicker-selected"),i.next().addClass("ui-timepicker-selected"),i.next().position().top+2*i.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+i.outerHeight())),!1;case 27:r.find("li").removeClass("ui-timepicker-selected");u.hide();break;case 9:u.hide();break;default:return!0}}function w(t){var r=n(this),i=r.data("timepicker-list"),u=r.data("timepicker-settings");if(!i||!e(i)||u.disableTextInput)return!0;if("paste"===t.type||"cut"===t.type)return void setTimeout(function(){u.typeaheadHighlight?o(r,i):i.hide()},0);switch(t.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:u.typeaheadHighlight?o(r,i):i.hide()}}function b(n){var r=n.data("timepicker-settings"),u=n.data("timepicker-list"),t=null,i=u.find(".ui-timepicker-selected");return!i.hasClass("ui-timepicker-disabled")&&(i.length&&(t=i.data("time")),null!==t&&("string"!=typeof t&&(t=h(t,r)),f(n,t,"select")),!0)}function rt(n,t){n=Math.abs(n);var u,f,e=Math.round(n/60),r=[];return e<60?r=[e,i.mins]:(u=Math.floor(e/60),f=e%60,30==t&&30==f&&(u+=i.decimal+5),r.push(u),r.push(1==u?i.hr:i.hrs),30!=t&&f&&(r.push(f),r.push(i.mins))),r.join(" ")}function h(t,u){var f,l,e,s,c;if("number"!=typeof t)return null;var h=parseInt(t%60),c=parseInt(t/60%60),a=parseInt(t/3600%24),o=new Date(1970,0,2,a,c,h,0);if(isNaN(o.getTime()))return null;if("function"===n.type(u.timeFormat))return u.timeFormat(o);for(e="",s=0;s<u.timeFormat.length;s++)switch(l=u.timeFormat.charAt(s)){case"a":e+=o.getHours()>11?i.pm:i.am;break;case"A":e+=o.getHours()>11?i.PM:i.AM;break;case"g":f=o.getHours()%12;e+=0===f?"12":f;break;case"G":f=o.getHours();t===r&&(f=u.show2400?24:0);e+=f;break;case"h":f=o.getHours()%12;0!==f&&f<10&&(f="0"+f);e+=0===f?"12":f;break;case"H":f=o.getHours();t===r&&(f=u.show2400?24:0);e+=f>9?f:"0"+f;break;case"i":c=o.getMinutes();e+=c>9?c:"0"+c;break;case"s":h=o.getSeconds();e+=h>9?h:"0"+h;break;case"\\":s++;e+=u.timeFormat.charAt(s);break;default:e+=l}return e}function t(n,t){var h,y,e,c;if(""===n||null===n)return null;if("object"==typeof n)return 3600*n.getHours()+60*n.getMinutes()+n.getSeconds();if("string"!=typeof n)return n;n=n.toLowerCase().replace(/[\s\.]/g,"");"a"!=n.slice(-1)&&"p"!=n.slice(-1)||(n+="m");var l="("+i.am.replace(".","")+"|"+i.pm.replace(".","")+"|"+i.AM.replace(".","")+"|"+i.PM.replace(".","")+")?",p=new RegExp("^"+l+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+l+"$"),f=n.match(p);if(!f)return null;var u=parseInt(1*f[2],10),o=f[1]||f[5],s=u,a=1*f[3]||0,v=1*f[4]||0;if(u<=12&&o)h=o==i.pm||o==i.PM,s=12==u?h?12:0:u+(h?12:0);else if(t&&(y=3600*u+60*a+v,y>=r+(t.show2400?1:0))){if(t.wrapHours===!1)return null;s=u%24}return e=3600*s+60*a+v,u<12&&!o&&t&&t._twelveHourTime&&t.scrollDefault&&(c=e-t.scrollDefault(),c<0&&c>=r/-2&&(e=(e+r/2)%r)),e}function g(n,t){return n==r&&t.show2400?n:n%r}var r=86400,i={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},nt={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(n,t){if(null===n)return null;if("number"!=typeof t.step)return n;var i=n%(60*t.step),r=t.minTime||0;return i-=r%(60*t.step),i>=30*t.step?n+=60*t.step-i:n-=i,g(n,t)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},u={init:function(t){return this.each(function(){var r=n(this),o=[],e,f,h;for(e in nt)r.data(e)&&(o[e]=r.data(e));if(f=n.extend({},nt,t,o),f.lang&&(i=n.extend(i,f.lang)),f=k(f),r.data("timepicker-settings",f),r.addClass("ui-timepicker-input"),f.useSelect)l(r);else{if(r.prop("autocomplete","off"),f.showOn)for(h in f.showOn)r.on(f.showOn[h]+".timepicker",u.show);r.on("change.timepicker",s);r.on("keydown.timepicker",it);r.on("keyup.timepicker",w);f.disableTextInput&&r.on("keydown.timepicker",tt);r.on("cut.timepicker",w);r.on("paste.timepicker",w);s.call(r.get(0),null,"initial")}})},show:function(i){var f=n(this),h=f.data("timepicker-settings"),r,a,b,s,w,k;return(i&&i.preventDefault(),h.useSelect)?void f.data("timepicker-list").focus():(y(f)&&f.blur(),r=f.data("timepicker-list"),!f.prop("readonly")&&(r&&0!==r.length&&"function"!=typeof h.durationTime||(l(f),r=f.data("timepicker-list")),!e(r))?(f.data("ui-timepicker-value",f.val()),o(f,r),u.hide(),r.show(),a={},a.left=h.orientation.match(/r/)?f.offset().left+f.outerWidth()-r.outerWidth()+parseInt(r.css("marginLeft").replace("px",""),10):f.offset().left+parseInt(r.css("marginLeft").replace("px",""),10),b=h.orientation.match(/t/)?"t":h.orientation.match(/b/)?"b":f.offset().top+f.outerHeight(!0)+r.outerHeight()>n(window).height()+n(window).scrollTop()?"t":"b","t"==b?(r.addClass("ui-timepicker-positioned-top"),a.top=f.offset().top-r.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)):(r.removeClass("ui-timepicker-positioned-top"),a.top=f.offset().top+f.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)),r.offset(a),s=r.find(".ui-timepicker-selected"),s.length||(w=t(c(f)),null!==w?s=p(f,r,w):h.scrollDefault&&(s=p(f,r,h.scrollDefault()))),(s.length&&!s.hasClass("ui-timepicker-disabled")||(s=r.find("li:not(.ui-timepicker-disabled):first")),s&&s.length)?(k=r.scrollTop()+s.position().top-s.outerHeight(),r.scrollTop(k)):r.scrollTop(0),h.stopScrollPropagation&&n(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=n(this).scrollTop();n(this).scrollTop(i+t.originalEvent.deltaY)}),n(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",v),n(window).on("resize.ui-timepicker",v),h.closeOnWindowScroll&&n(document).on("scroll.ui-timepicker",v),f.trigger("showTimepicker"),this):void 0)},hide:function(){var t=n(this),i=t.data("timepicker-settings");return i&&i.useSelect&&t.blur(),n(".ui-timepicker-wrapper").each(function(){var i=n(this),t,r;e(i)&&(t=i.data("timepicker-input"),r=t.data("timepicker-settings"),r&&r.selectOnBlur&&b(t),i.hide(),t.trigger("hideTimepicker"))}),this},option:function(t,i){return"string"==typeof t&&"undefined"==typeof i?n(this).data("timepicker-settings")[t]:this.each(function(){var u=n(this),r=u.data("timepicker-settings"),f=u.data("timepicker-list");"object"==typeof t?r=n.extend(r,t):"string"==typeof t&&(r[t]=i);r=k(r);u.data("timepicker-settings",r);s.call(u.get(0),{type:"change"},"initial");f&&(f.remove(),u.data("timepicker-list",!1));r.useSelect&&l(u)})},getSecondsFromMidnight:function(){return t(c(this))},getTime:function(n){var f=this,u=c(f),r,i;return u?(r=t(u),null===r)?null:(n||(n=new Date),i=new Date(n),i.setHours(r/3600),i.setMinutes(r%3600/60),i.setSeconds(r%60),i.setMilliseconds(0),i):null},isVisible:function(){var t=this,n=t.data("timepicker-list");return!(!n||!e(n))},setTime:function(n){var i=this,r=i.data("timepicker-settings"),u;return u=r.forceRoundTime?a(t(n),r):h(t(n),r),n&&null===u&&r.noneOption&&(u=n),f(i,u,"initial"),s.call(i.get(0),{type:"change"},"initial"),i.data("timepicker-list")&&o(i,i.data("timepicker-list")),this},remove:function(){var n=this,t;if(n.hasClass("ui-timepicker-input"))return t=n.data("timepicker-settings"),n.removeAttr("autocomplete","off"),n.removeClass("ui-timepicker-input"),n.removeData("timepicker-settings"),n.off(".timepicker"),n.data("timepicker-list")&&n.data("timepicker-list").remove(),t.useSelect&&n.show(),n.removeData("timepicker-list"),this}};n.fn.timepicker=function(t){return this.length?u[t]?this.hasClass("ui-timepicker-input")?u[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void n.error("Method "+t+" does not exist on jQuery.timepicker"):u.init.apply(this,arguments):this}})